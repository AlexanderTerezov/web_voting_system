# Web Voting System

Уеб приложение за организиране на органи, заседания, дневен ред и гласуване с автоматично генериране на протокол.

## Основни възможности

- Управление на органи (кворум, участници, роли)
- Създаване на заседания (дата/час, продължителност, периодичност)
- Дневен ред с точки и прикачени материали
- Гласуване: Да / Не / Въздържал се (оправлява се единствено от секретари)
- Генериране на протокол след приключване на заседание

## Технологии

- PHP + MySQL (PDO)
- Данните се пазят в MySQL база (виж променливите `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USER`, `DB_PASS`)
- Прикачените файлове се пазят в `app/uploads/`

## Стартиране (локално с XAMPP)

1. Инсталирай XAMPP и стартирай `Apache` и `MySQL` от Control Panel.
2. Копирай проекта в `C:\xampp\htdocs\web_voting_system` (или в друга подпапка на `htdocs`).
3. Създай базата данни:
   - Отвори `http://localhost/phpmyadmin`
   - Изпълни:
     ```sql
     CREATE DATABASE web_voting_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
     ```
4. Провери настройките за достъп до MySQL:
   - По подразбиране XAMPP използва `DB_HOST=127.0.0.1`, `DB_PORT=3306`, `DB_USER=root`, `DB_PASS=` (празна парола).
   - Ако имаш различни настройки, промени ги в `app/db.php` или чрез променливите `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USER`, `DB_PASS`.
5. Отвори приложението:
   - `http://localhost/web_voting_system/app/index.php`

## Акаунти и роли

- Данните за потребителите са в MySQL базата.
- Паролите са хеширани. За вход можеш:
  - да създадеш нов акаунт през регистрацията, или
  - да смениш паролата с SQL заявка (напр. през `phpMyAdmin`), като използваш нов хеш, генериран чрез:
    ```bash
    php -r "echo password_hash('НоваПарола', PASSWORD_DEFAULT);"
    ```
    и после:
    ```sql
    UPDATE users SET password='ХЕШ' WHERE username='Admin';
    ```
  - можеш и да добавиш като:
    ```sql
    INSERT INTO users (username,email,password,role,created_at)
    VALUES ('admin2','admin2@example.com','<HASH>','Admin',NOW());
    ```
- Базата данни и таблиците се създават автоматично при първо зареждане на приложението, но **самата база** трябва да съществува (виж стъпка 3 по-горе).

## Права за писане

За да работят регистрация, създаване на заседания и качване на файлове, уеб сървърът трябва да има write права върху:

- MySQL база данни (достъп през `DB_*` променливи)
- `app/uploads/`

## Структура

- `app/` — PHP страници (UI + логика)
- (MySQL база данни)
- `app/uploads/` — прикачени файлове
